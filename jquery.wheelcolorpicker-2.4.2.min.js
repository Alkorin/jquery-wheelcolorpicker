/**
 * jQuery Wheel Color Picker 2.4.1
 * 
 * http://www.jar2.net/projects/jquery-wheelcolorpicker
 * 
 * Author : Fajar Chandra
 * Date   : 2015.10.15
 * 
 * Copyright Â© 2011-2015 Fajar Chandra. All rights reserved.
 * Released under MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(e){var t={},a={},r=null;e.fn.wheelColorPicker=function(){if(0==arguments.length)return t.setOptions.call(this,{});if("object"==typeof arguments[0])return t.setOptions.call(this,arguments[0]);if(e.isFunction(t[arguments[0]])){var a=[].shift,r=a.apply(arguments);return t[r].apply(this,arguments)}return 2==arguments.length?t.setOption.call(this,arguments[0],arguments[1]):1==arguments.length?t.getOption.call(this,arguments[0]):void e.error("Method/option named "+arguments[0]+" does not exist on jQuery.wheelColorPicker")},e.fn.wheelColorPicker.defaults={format:"hex",preview:!1,live:!0,userinput:!0,validate:!1,autoConvert:!0,color:null,alpha:null,preserveWheel:!1,interactive:!0,cssClass:"",width:null,height:null,layout:"popup",animDuration:200,quality:1,sliders:null,showSliderLabel:!0,showSliderValue:!1,rounding:2,mobileAutoScroll:!0,htmlOptions:!0},e.fn.wheelColorPicker.hasInit=!1,e.fn.wheelColorPicker.colorToStr=function(e,t){var a="";switch(t){case"css":a="#";case"hex":var r=Math.round(255*e.r).toString(16);1==r.length&&(r="0"+r);var s=Math.round(255*e.g).toString(16);1==s.length&&(s="0"+s);var l=Math.round(255*e.b).toString(16);1==l.length&&(l="0"+l),a+=r+s+l;break;case"rgb":a="rgb("+Math.round(255*e.r)+","+Math.round(255*e.g)+","+Math.round(255*e.b)+")";break;case"rgb%":a="rgb("+100*e.r+"%,"+100*e.g+"%,"+100*e.b+"%)";break;case"rgba":a="rgba("+Math.round(255*e.r)+","+Math.round(255*e.g)+","+Math.round(255*e.b)+","+e.a+")";break;case"rgba%":a="rgba("+100*e.r+"%,"+100*e.g+"%,"+100*e.b+"%,"+100*e.a+"%)";break;case"hsv":a="hsv("+360*e.h+","+e.s+","+e.v+")";break;case"hsv%":a="hsv("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%)";break;case"hsva":a="hsva("+360*e.h+","+e.s+","+e.v+","+e.a+")";break;case"hsva%":a="hsva("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%,"+100*e.a+"%)";break;case"hsb":a="hsb("+e.h+","+e.s+","+e.v+")";break;case"hsb%":a="hsb("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%)";break;case"hsba":a="hsba("+e.h+","+e.s+","+e.v+","+e.a+")";break;case"hsba%":a="hsba("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%,"+100*e.a+"%)"}return a},e.fn.wheelColorPicker.strToColor=function(e){var t,a,r={a:1};if(null!=e.match(/^#[0-9a-f]{6}$/i)){if(isNaN(r.r=parseInt(e.substr(1,2),16)/255))return!1;if(isNaN(r.g=parseInt(e.substr(3,2),16)/255))return!1;if(isNaN(r.b=parseInt(e.substr(5,2),16)/255))return!1}else if(null!=e.match(/^[0-9a-f]{6}$/i)){if(isNaN(r.r=parseInt(e.substr(0,2),16)/255))return!1;if(isNaN(r.g=parseInt(e.substr(2,2),16)/255))return!1;if(isNaN(r.b=parseInt(e.substr(4,2),16)/255))return!1}else if(null!=e.match(/^rgba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)||null!=e.match(/^rgb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)){if(a=null!=e.match(/a/i)?!0:!1,t=e.substring(e.indexOf("(")+1,e.indexOf(",")),"%"==t.charAt(t.length-1)){if(isNaN(r.r=parseFloat(t)/100))return!1}else if(isNaN(r.r=parseInt(t)/255))return!1;if(t=e.substring(e.indexOf(",")+1,e.indexOf(",",e.indexOf(",")+1)),"%"==t.charAt(t.length-1)){if(isNaN(r.g=parseFloat(t)/100))return!1}else if(isNaN(r.g=parseInt(t)/255))return!1;if(t=a?e.substring(e.indexOf(",",e.indexOf(",")+1)+1,e.lastIndexOf(",")):e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(r.b=parseFloat(t)/100))return!1}else if(isNaN(r.b=parseInt(t)/255))return!1;if(a)if(t=e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(r.a=parseFloat(t)/100))return!1}else if(isNaN(r.a=parseFloat(t)))return!1}else{if(null==e.match(/^hsva\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsv\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i))return!1;if(a=null!=e.match(/a/i)?!0:!1,t=e.substring(e.indexOf("(")+1,e.indexOf(",")),"%"==t.charAt(t.length-1)){if(isNaN(r.h=parseFloat(t)/100))return!1}else if(isNaN(r.h=parseFloat(t)/360))return!1;if(t=e.substring(e.indexOf(",")+1,e.indexOf(",",e.indexOf(",")+1)),"%"==t.charAt(t.length-1)){if(isNaN(r.s=parseFloat(t)/100))return!1}else if(isNaN(r.s=parseFloat(t)))return!1;if(t=a?e.substring(e.indexOf(",",e.indexOf(",")+1)+1,e.lastIndexOf(",")):e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(r.v=parseFloat(t)/100))return!1}else if(isNaN(r.v=parseFloat(t)))return!1;if(a)if(t=e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(r.a=parseFloat(t)/100))return!1}else if(isNaN(r.a=parseFloat(t)))return!1}return r},e.fn.wheelColorPicker.hsvToRgb=function(e,t,a){var r=1/6>=e||e>=5/6?1:1/3>e?1-6*(e-1/6):e>4/6?6*(e-4/6):0,s=e>=1/6&&.5>=e?1:1/6>e?6*e:4/6>e?1-6*(e-.5):0,l=e>=.5&&5/6>=e?1:e>2/6&&.5>e?6*(e-2/6):e>5/6?1-6*(e-5/6):0,i=(r+(1-r)*(1-t))*a,n=(s+(1-s)*(1-t))*a,o=(l+(1-l)*(1-t))*a;return{r:i,g:n,b:o}},e.fn.wheelColorPicker.rgbToHsv=function(e,t,a){var r,s,l,i=Math.max(e,t,a),n=Math.min(e,t,a),o=i-n;return s=0!=i?o/i:0,r=0==o?0:e==i?(6+(t-a)/o)%6:t==i?2+(a-e)/o:a==i?4+(e-t)/o:0,r/=6,l=i,{h:r,s:s,v:l}},t.staticInit=function(){e.fn.wheelColorPicker.hasInit||(e("body").on("mouseup.wheelColorPicker",a.onBodyMouseUp),e("body").on("touchend.wheelColorPicker",a.onBodyMouseUp),e("body").on("mousemove.wheelColorPicker",a.onBodyMouseMove),e("body").on("touchmove.wheelColorPicker",a.onBodyMouseMove))},t.init=function(){return t.staticInit(),this.each(function(){var s=e(this),l=s.data("jQWCP.settings"),i=null;if(!l.hasInit){l.hasInit=!0;var n={h:0,s:0,v:1,r:1,g:1,b:1,a:1};s.data("jQWCP.color",n),null==l.sliders&&(l.sliders="wvp"+(l.format.indexOf("a")>=0?"a":"")),"block"==l.layout?(i=a.initWidget.call(s),a.adjustWidget(i.get(0),l),i.addClass(l.cssClass),s.data("jQWCP.widget",i.get(0)),i.data("jQWCP.inputElm",this),i.addClass("jQWCP-block"),s.after(i),"inline"==s.css("display")?i.css("display","inline-block"):i.css("display",s.css("display")),i.append(s),s.hide(),void 0!=s.attr("tabindex")?i.attr("tabindex",s.attr("tabindex")):i.attr("tabindex",0),t.redrawSliders.call(s,null,!0),t.updateSliders.call(s),i.on("focus.wheelColorPicker",a.onWidgetFocus),i.on("blur.wheelColorPicker",a.onWidgetBlur)):(null==r?(i=a.initWidget.call(s),s.data("jQWCP.widget",i.get(0)),r=i,r.hide(),e("body").append(i),i.on("mousedown.wheelColorPicker",a.onPopupDlgMouseDown),i.on("mouseup.wheelColorPicker",a.onPopupDlgMouseUp)):s.data("jQWCP.widget",r),s.on("focus.wheelColorPicker",t.show),s.on("blur.wheelColorPicker",a.onInputBlur)),s.on("keyup.wheelColorPicker",a.onInputKeyup),s.on("change.wheelColorPicker",a.onInputChange),null==l.color?t.setValue.call(s,s.val()):"object"==typeof l.color?(t.setColor.call(s,l.color),l.color=void 0):(t.setValue.call(s,l.color),l.color=void 0),l.userinput?s.removeAttr("readonly"):s.attr("readonly",!0)}})},t.setOptions=function(a){var r=a;return this.each(function(){var t=e(this),s=this;a=e.extend({},r),"undefined"==typeof a.htmlOptions&&(a.htmlOptions=e.fn.wheelColorPicker.defaults.htmlOptions),a.htmlOptions&&e.each(e.fn.wheelColorPicker.defaults,function(e,r){s.hasAttribute("data-wcp-"+e)&&(a[e]=t.attr("data-wcp-"+e))});var l=e.extend(!0,{},e.fn.wheelColorPicker.defaults,a);t.data("jQWCP.settings",l)}),t.init.call(this)},t.destroy=function(){return this.each(function(){var t=e(this),a=t.data("jQWCP.settings"),s=null;a&&("block"==a.layout?(s=e(t.data("jQWCP.widget")),s.before(t),s.remove(),t.show()):s=r,t.off("focus.wheelColorPicker"),t.off("blur.wheelColorPicker"),t.off("keyup.wheelColorPicker"),t.off("change.wheelColorPicker"),t.data("jQWCP.settings",null),t.data("jQWCP.widget",null))})},t.show=function(s){var l=e(this),i=l.data("jQWCP.settings"),n=r;"popup"==i.layout&&this!=l.data("jQWCP.inputElm")&&(n.stop(!0,!0),n.css({top:l.offset().top+l.outerHeight()+"px",left:l.offset().left+"px"}),n.data("jQWCP.inputElm",this),n.attr("class","jQWCP-wWidget"),n.addClass(i.cssClass),a.adjustWidget(n.get(0),i),t.redrawSliders.call(l,null,!0),t.updateSliders.call(l),i.lastValue=l.val(),n.fadeIn(i.animDuration))},t.hide=function(t){var a=e(this),s=a.data("jQWCP.settings");r.fadeOut(s.animDuration)},t.redrawSliders=function(t,a){return this.each(function(){var t=e(this),r=t.data("jQWCP.settings"),s=e(t.data("jQWCP.widget")),l=t.data("jQWCP.color");if(this==s.data("jQWCP.inputElm")){var i=1,n=50*r.quality,o=1,d=0,h=0,u=0,c=0,C=0,f=1;r.live&&(o=l.a,d=Math.round(255*l.r),h=Math.round(255*l.g),u=Math.round(255*l.b),c=l.h,C=l.s,f=l.v);var p=s.find(".jQWCP-wPreviewBox"),P=p.get(0).getContext("2d");if(P.fillStyle="rgba("+d+","+h+","+u+","+o+")",P.clearRect(0,0,1,1),P.fillRect(0,0,1,1),r.live||a){var g=s.find(".jQWCP-wAlphaSlider"),w=g.get(0).getContext("2d"),W=w.createLinearGradient(0,0,0,n);W.addColorStop(0,"rgba("+d+","+h+","+u+",1)"),W.addColorStop(1,"rgba("+d+","+h+","+u+",0)"),w.fillStyle=W,w.clearRect(0,0,i,n),w.fillRect(0,0,i,n);var v=s.find(".jQWCP-wRedSlider"),j=v.get(0).getContext("2d"),Q=j.createLinearGradient(0,0,0,n);Q.addColorStop(0,"rgb(255,"+h+","+u+")"),Q.addColorStop(1,"rgb(0,"+h+","+u+")"),j.fillStyle=Q,j.fillRect(0,0,i,n);var b=s.find(".jQWCP-wGreenSlider"),S=b.get(0).getContext("2d"),m=S.createLinearGradient(0,0,0,n);m.addColorStop(0,"rgb("+d+",255,"+u+")"),m.addColorStop(1,"rgb("+d+",0,"+u+")"),S.fillStyle=m,S.fillRect(0,0,i,n);var k=s.find(".jQWCP-wBlueSlider"),x=k.get(0).getContext("2d"),y=x.createLinearGradient(0,0,0,n);y.addColorStop(0,"rgb("+d+","+h+",255)"),y.addColorStop(1,"rgb("+d+","+h+",0)"),x.fillStyle=y,x.fillRect(0,0,i,n);var M=s.find(".jQWCP-wHueSlider"),O=M.get(0).getContext("2d"),N=O.createLinearGradient(0,0,0,n);N.addColorStop(0,"#f00"),N.addColorStop(.166666667,"#ff0"),N.addColorStop(.333333333,"#0f0"),N.addColorStop(.5,"#0ff"),N.addColorStop(.666666667,"#00f"),N.addColorStop(.833333333,"#f0f"),N.addColorStop(1,"#f00"),O.fillStyle=N,O.fillRect(0,0,i,n);var I=e.fn.wheelColorPicker.hsvToRgb(c,1,f);I.r=Math.round(255*I.r),I.g=Math.round(255*I.g),I.b=Math.round(255*I.b);var R=s.find(".jQWCP-wSatSlider"),A=R.get(0).getContext("2d"),H=A.createLinearGradient(0,0,0,n);H.addColorStop(0,"rgb("+I.r+","+I.g+","+I.b+")"),H.addColorStop(1,"rgb("+Math.round(255*f)+","+Math.round(255*f)+","+Math.round(255*f)+")"),A.fillStyle=H,A.fillRect(0,0,i,n);var B=e.fn.wheelColorPicker.hsvToRgb(c,C,1);B.r=Math.round(255*B.r),B.g=Math.round(255*B.g),B.b=Math.round(255*B.b);var E=s.find(".jQWCP-wValSlider"),G=E.get(0).getContext("2d"),D=G.createLinearGradient(0,0,0,n);D.addColorStop(0,"rgb("+B.r+","+B.g+","+B.b+")"),D.addColorStop(1,"#000"),G.fillStyle=D,G.fillRect(0,0,i,n)}}})},t.updateSliders=function(){return this.each(function(){var t=e(this),a=t.data("jQWCP.settings"),r=e(t.data("jQWCP.widget")),s=t.data("jQWCP.color");if(this==r.data("jQWCP.inputElm")){var l=r.find(".jQWCP-wWheel"),i=r.find(".jQWCP-wWheelCursor"),n=r.find(".jQWCP-wWheelOverlay"),o=Math.cos(2*Math.PI*s.h)*s.s,d=Math.sin(2*Math.PI*s.h)*s.s,h=l.width()/2,u=l.height()/2;i.css("left",h+o*l.width()/2+"px"),i.css("top",u-d*l.height()/2+"px"),a.preserveWheel?n.css("opacity",0):n.css("opacity",1-(s.v<.2?.2:s.v));var c=r.find(".jQWCP-wHueSlider"),C=r.find(".jQWCP-wHueCursor");C.css("top",s.h*c.height()+"px");var f=r.find(".jQWCP-wSatSlider"),p=r.find(".jQWCP-wSatCursor");p.css("top",(1-s.s)*f.height()+"px");var P=r.find(".jQWCP-wValSlider"),g=r.find(".jQWCP-wValCursor");g.css("top",(1-s.v)*P.height()+"px");var w=r.find(".jQWCP-wRedSlider"),W=r.find(".jQWCP-wRedCursor");W.css("top",(1-s.r)*w.height()+"px");var v=r.find(".jQWCP-wGreenSlider"),j=r.find(".jQWCP-wGreenCursor");j.css("top",(1-s.g)*v.height()+"px");var Q=r.find(".jQWCP-wBlueSlider"),b=r.find(".jQWCP-wBlueCursor");b.css("top",(1-s.b)*Q.height()+"px");var S=r.find(".jQWCP-wAlphaSlider"),m=r.find(".jQWCP-wAlphaCursor");m.css("top",(1-s.a)*S.height()+"px")}})},t.updateSelection=function(){return t.redrawSliders.call($this),t.updateSliders.call($this)},t.setRgba=function(a,r,s,l){return this.each(function(){var t=e(this),i=t.data("jQWCP.color");i.r=a,i.g=r,i.b=s,null!=l&&(i.a=l);var n=e.fn.wheelColorPicker.rgbToHsv(a,r,s);i.h=n.h,i.s=n.s,i.v=n.v}),t.updateSliders.call(this,"hsv"),t.redrawSliders.call(this,"svrgba")},t.setRgb=function(e,a,r){return t.setRgba.call(this,e,a,r,null)},t.setHsva=function(a,r,s,l){return this.each(function(){var t=e(this),i=t.data("jQWCP.color");i.h=a,i.s=r,i.v=s,null!=l&&(i.a=l);var n=e.fn.wheelColorPicker.hsvToRgb(a,r,s);i.r=n.r,i.g=n.g,i.b=n.b}),t.updateSliders.call(this,"rgb"),t.redrawSliders.call(this,"svrgba")},t.setHsv=function(e,a,r){return t.setHsva.call(this,e,a,r,null)},t.setAlpha=function(a){return this.each(function(){var t=e(this),r=t.data("jQWCP.color");r.a=a}),t.redrawSliders.call(this,"")},t.alpha=function(t){var a=this.data("jQWCP.settings");if(null==t)return-1==a.sliders.indexOf("a")?!1:!0;if(1==t){if(-1==a.sliders.indexOf("a"))return this.each(function(){var t=e(this),a=t.data("jQWCP.settings");a.sliders+="a"})}else if(0==t)return this.each(function(){var t=e(this),a=t.data("jQWCP.settings");a.sliders.replace("a","")})},t.color=function(e){return null==e?t.getValue.call(this):t.setValue.call(this,e)},t.getColor=function(){return this.data("jQWCP.color")},t.setColor=function(e){return null!=e.r?t.setRgba.call(this,e.r,e.g,e.b,e.a):null!=e.h?t.setHsva.call(this,e.h,e.s,e.v,e.a):null!=e.a?t.setAlpha.call(this,e.a):this},t.getValue=function(t){var a=this.data("jQWCP.settings"),r=this.data("jQWCP.color");return null==t&&(t=a.format),a.rounding>=0&&(r.a=Math.round(r.a*Math.pow(10,a.rounding))/Math.pow(10,a.rounding)),e.fn.wheelColorPicker.colorToStr(r,t)},t.setValue=function(a){var r=e.fn.wheelColorPicker.strToColor(a);return r?t.setColor.call(this,r):this},a.initWidget=function(t){var r=this.data("jQWCP.settings"),s=50*r.quality,l=e("<div class='jQWCP-wWidget'><div class='jQWCP-wWheelGroup'><div class='jQWCP-wWheel'><div class='jQWCP-wWheelOverlay'></div><span class='jQWCP-wWheelCursor'></span></div></div><div class='jQWCP-wHSVGroup'><div class='jQWCP-wHue jQWCP-slider-wrapper'><canvas class='jQWCP-wHueSlider jQWCP-slider' width='1' height='"+s+"' title='Hue'></canvas><span class='jQWCP-wHueCursor jQWCP-scursor'></span></div><div class='jQWCP-wSat jQWCP-slider-wrapper'><canvas class='jQWCP-wSatSlider jQWCP-slider' width='1' height='"+s+"' title='Saturation'></canvas><span class='jQWCP-wSatCursor jQWCP-scursor'></span></div><div class='jQWCP-wVal jQWCP-slider-wrapper'><canvas class='jQWCP-wValSlider jQWCP-slider' width='1' height='"+s+"' title='Value'></canvas><span class='jQWCP-wValCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wRGBGroup'><div class='jQWCP-wRed jQWCP-slider-wrapper'><canvas class='jQWCP-wRedSlider jQWCP-slider' width='1' height='"+s+"' title='Red'></canvas><span class='jQWCP-wRedCursor jQWCP-scursor'></span></div><div class='jQWCP-wGreen jQWCP-slider-wrapper'><canvas class='jQWCP-wGreenSlider jQWCP-slider' width='1' height='"+s+"' title='Green'></canvas><span class='jQWCP-wGreenCursor jQWCP-scursor'></span></div><div class='jQWCP-wBlue jQWCP-slider-wrapper'><canvas class='jQWCP-wBlueSlider jQWCP-slider' width='1' height='"+s+"' title='Blue'></canvas><span class='jQWCP-wBlueCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wAlpha jQWCP-slider-wrapper'><canvas class='jQWCP-wAlphaSlider jQWCP-slider' width='1' height='"+s+"' title='Alpha'></canvas><span class='jQWCP-wAlphaCursor jQWCP-scursor'></span></div><div class='jQWCP-wPreview'><canvas class='jQWCP-wPreviewBox' width='1' height='1' title='Selected Color'></canvas></div></div>");return l.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-scursor, .jQWCP-slider").attr("unselectable","on").css("-moz-user-select","none").css("-webkit-user-select","none").css("user-select","none").css("-webkit-touch-callout","none"),l.on("contextmenu.wheelColorPicker",function(){return!1}),l.on("mousedown.wheelColorPicker",".jQWCP-wWheel",a.onWheelMouseDown),l.on("touchstart.wheelColorPicker",".jQWCP-wWheel",a.onWheelMouseDown),l.on("mousedown.wheelColorPicker",".jQWCP-wWheelCursor",a.onWheelCursorMouseDown),l.on("touchstart.wheelColorPicker",".jQWCP-wWheelCursor",a.onWheelCursorMouseDown),l.on("mousedown.wheelColorPicker",".jQWCP-slider",a.onSliderMouseDown),l.on("touchstart.wheelColorPicker",".jQWCP-slider",a.onSliderMouseDown),l.on("mousedown.wheelColorPicker",".jQWCP-scursor",a.onSliderCursorMouseDown),l.on("touchstart.wheelColorPicker",".jQWCP-scursor",a.onSliderCursorMouseDown),l},a.adjustWidget=function(t,a){var r=e(t),s=a.sliders;s.indexOf("w")<0?r.find(".jQWCP-wWheel").hide().addClass("hidden"):r.find(".jQWCP-wWheel").show().removeClass("hidden"),s.indexOf("h")<0?r.find(".jQWCP-wHue").hide().addClass("hidden"):r.find(".jQWCP-wHue").show().removeClass("hidden"),s.indexOf("h")<0?r.find(".jQWCP-wHue").hide().addClass("hidden"):r.find(".jQWCP-wHue").show().removeClass("hidden"),s.indexOf("s")<0?r.find(".jQWCP-wSat").hide().addClass("hidden"):r.find(".jQWCP-wSat").show().removeClass("hidden"),s.indexOf("v")<0?r.find(".jQWCP-wVal").hide().addClass("hidden"):r.find(".jQWCP-wVal").show().removeClass("hidden"),s.indexOf("r")<0?r.find(".jQWCP-wRed").hide().addClass("hidden"):r.find(".jQWCP-wRed").show().removeClass("hidden"),s.indexOf("g")<0?r.find(".jQWCP-wGreen").hide().addClass("hidden"):r.find(".jQWCP-wGreen").show().removeClass("hidden"),s.indexOf("b")<0?r.find(".jQWCP-wBlue").hide().addClass("hidden"):r.find(".jQWCP-wBlue").show().removeClass("hidden"),s.indexOf("a")<0?r.find(".jQWCP-wAlpha").hide().addClass("hidden"):r.find(".jQWCP-wAlpha").show().removeClass("hidden"),s.indexOf("p")<0?r.find(".jQWCP-wPreview").hide().addClass("hidden"):r.find(".jQWCP-wPreview").show().removeClass("hidden");var l=r.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-wPreview").not(".hidden"),i=0;l.each(function(t,a){i+=parseFloat(e(a).css("margin-left").replace("px"))+e(a).outerWidth()}),r.css({width:i+"px"})},a.onPopupDlgMouseDown=function(t){var a=e(this),r=e(a.data("jQWCP.inputElm"));r.off("blur.wheelColorPicker"),r.off("focus.wheelColorPicker")},a.onPopupDlgMouseUp=function(t){var a=e(this),r=e(a.data("jQWCP.inputElm"));r.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS")},a.onWheelMouseDown=function(t){var a=e(this),r=a.parents(".jQWCP-wWidget:eq(0)"),s=e(r.data("jQWCP.inputElm"));e("body").data("jQWCP.activeControl",a.get(0)),s.trigger("sliderdown")},a.onWheelCursorMouseDown=function(t){{var a=e(this),r=a.parents(".jQWCP-wWidget:eq(0)");e(r.data("jQWCP.inputElm"))}e("body").data("jQWCP.activeControl",a.parent().get(0))},a.onSliderMouseDown=function(t){var a=e(this),r=a.parents(".jQWCP-wWidget:eq(0)"),s=e(r.data("jQWCP.inputElm"));e("body").data("jQWCP.activeControl",a.parent().get(0)),s.trigger("sliderdown")},a.onSliderCursorMouseDown=function(t){{var a=e(this),r=a.parents(".jQWCP-wWidget:eq(0)");e(r.data("jQWCP.inputElm"))}e("body").data("jQWCP.activeControl",a.parent().get(0))},a.onBodyMouseUp=function(r){var s=e(e("body").data("jQWCP.activeControl"));if(0!=s.length){var l=s.parents(".jQWCP-wWidget:eq(0)"),i=e(l.data("jQWCP.inputElm")),n=i.data("jQWCP.settings");void 0!=r.pageX&&a.updateActiveControl(r),"popup"==n.layout&&(i.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS"),i.on("blur.wheelColorPicker",a.onInputBlur),i.on("focus.wheelColorPicker",t.show)),e("body").data("jQWCP.activeControl",null),i.trigger("sliderup")}},a.onBodyMouseMove=function(t){var r=e(e("body").data("jQWCP.activeControl"));if(0!=r.length){t.preventDefault();var s=r.parents(".jQWCP-wWidget:eq(0)"),l=e(s.data("jQWCP.inputElm"));return a.updateActiveControl(t),l.trigger("slidermove"),!1}},a.updateActiveControl=function(a){var r=e(e("body").data("jQWCP.activeControl"));if(0!=r.length){var s=r.parents(".jQWCP-wWidget:eq(0)"),l=e(s.data("jQWCP.inputElm")),i=l.data("jQWCP.settings"),n=l.data("jQWCP.color");if(void 0==a.pageX&&a.originalEvent.touches.length>0&&(a.pageX=a.originalEvent.touches[0].pageX,a.pageY=a.originalEvent.touches[0].pageY),r.hasClass("jQWCP-wWheel")){var o=r.find(".jQWCP-wWheelCursor"),d=(r.find(".jQWCP-wWheelOverlay"),(a.pageX-r.offset().left-r.width()/2)/(r.width()/2)),h=-(a.pageY-r.offset().top-r.height()/2)/(r.height()/2),u=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));u>1&&(u=1);var c=Math.atan(h/d)/(2*Math.PI);0>c&&(c+=.5),0>h&&(c+=.5),t.setHsv.call(l,c,u,n.v)}else if(r.hasClass("jQWCP-slider-wrapper")){var o=r.find(".jQWCP-scursor"),h=(a.pageY-r.offset().top)/r.height(),C=0>h?0:h>1?1:h;o.css("top",C*r.height()+"px"),r.hasClass("jQWCP-wRed")&&t.setRgb.call(l,1-C,n.g,n.b),r.hasClass("jQWCP-wGreen")&&t.setRgb.call(l,n.r,1-C,n.b),r.hasClass("jQWCP-wBlue")&&t.setRgb.call(l,n.r,n.g,1-C),r.hasClass("jQWCP-wHue")&&t.setHsv.call(l,C,n.s,n.v),r.hasClass("jQWCP-wSat")&&t.setHsv.call(l,n.h,1-C,n.v),r.hasClass("jQWCP-wVal")&&t.setHsv.call(l,n.h,n.s,1-C),r.hasClass("jQWCP-wAlpha")&&t.setAlpha.call(l,1-C)}l.val(t.getValue.call(l)),i.preview&&(l.css("background",e.fn.wheelColorPicker.colorToStr(n,"rgba")),n.v>.5?l.css("color","black"):l.css("color","white"))}},a.onInputChange=function(a){var r=e(this),s=e.fn.wheelColorPicker.strToColor(r.val());s&&t.setColor.call(r,s)},a.onInputKeyup=function(e){a.onInputChange.call(this,e)},a.onInputBlur=function(a){var r=e(this),s=r.data("jQWCP.settings"),l=s.lastValue,i=r.val();l!=i&&r.trigger("change"),"popup"==s.layout&&t.hide.call(r)},a.onWidgetFocus=function(t){var a=e(e(this).data("jQWCP.inputElm")),r=(e(this),a.data("jQWCP.settings"));r.lastValue=a.val(),a.triggerHandler("focus")},a.onWidgetBlur=function(t){{var r=e(e(this).data("jQWCP.inputElm"));e(this)}a.onInputBlur.call(r),r.triggerHandler("blur")},e("document").ready(function(){e("[data-wheelcolorpicker]").wheelColorPicker({htmlOptions:!0})}),function(){e.browser.mozilla&&(e.fn.wheelColorPicker.defaults.quality=.2)}()}(jQuery);
