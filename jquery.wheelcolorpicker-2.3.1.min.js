/**
 * jQuery Wheel Color Picker 2.3.1
 * 
 * http://www.jar2.net/projects/jquery-wheelcolorpicker
 * 
 * Author : Fajar Chandra
 * Date   : 2015.10.10
 * 
 * Copyright Â© 2011-2015 Fajar Chandra. All rights reserved.
 * Released under MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(e){var t={},a={},s=null;e.fn.wheelColorPicker=function(){if(0==arguments.length)return t.setOptions.call(this,{});if("object"==typeof arguments[0])return t.setOptions.call(this,arguments[0]);if(e.isFunction(t[arguments[0]])){var a=[].shift,s=a.apply(arguments);return t[s].apply(this,arguments)}return 2==arguments.length?t.setOption.call(this,arguments[0],arguments[1]):1==arguments.length?t.getOption.call(this,arguments[0]):void e.error("Method/option named "+arguments[0]+" does not exist on jQuery.wheelColorPicker")},e.fn.wheelColorPicker.defaults={format:"hex",preview:!1,live:!0,userinput:!0,validate:!1,autoConvert:!0,color:null,alpha:null,preserveWheel:!1,interactive:!0,cssClass:"",width:null,height:null,layout:"popup",animDuration:200,quality:1,sliders:null,showSliderLabel:!0,showSliderValue:!1,rounding:2,mobileAutoScroll:!0,htmlOptions:!0},e.fn.wheelColorPicker.hasInit=!1,e.fn.wheelColorPicker.colorToStr=function(e,t){var a="";switch(t){case"css":a="#";case"hex":var s=Math.round(255*e.r).toString(16);1==s.length&&(s="0"+s);var r=Math.round(255*e.g).toString(16);1==r.length&&(r="0"+r);var i=Math.round(255*e.b).toString(16);1==i.length&&(i="0"+i),a+=s+r+i;break;case"rgb":a="rgb("+Math.round(255*e.r)+","+Math.round(255*e.g)+","+Math.round(255*e.b)+")";break;case"rgb%":a="rgb("+100*e.r+"%,"+100*e.g+"%,"+100*e.b+"%)";break;case"rgba":a="rgba("+Math.round(255*e.r)+","+Math.round(255*e.g)+","+Math.round(255*e.b)+","+e.a+")";break;case"rgba%":a="rgba("+100*e.r+"%,"+100*e.g+"%,"+100*e.b+"%,"+100*e.a+"%)";break;case"hsv":a="hsv("+360*e.h+","+e.s+","+e.v+")";break;case"hsv%":a="hsv("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%)";break;case"hsva":a="hsva("+360*e.h+","+e.s+","+e.v+","+e.a+")";break;case"hsva%":a="hsva("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%,"+100*e.a+"%)";break;case"hsb":a="hsb("+e.h+","+e.s+","+e.v+")";break;case"hsb%":a="hsb("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%)";break;case"hsba":a="hsba("+e.h+","+e.s+","+e.v+","+e.a+")";break;case"hsba%":a="hsba("+100*e.h+"%,"+100*e.s+"%,"+100*e.v+"%,"+100*e.a+"%)"}return a},e.fn.wheelColorPicker.strToColor=function(e){var t,a,s={a:1};if(null!=e.match(/^#[0-9a-f]{6}$/i)){if(isNaN(s.r=parseInt(e.substr(1,2),16)/255))return!1;if(isNaN(s.g=parseInt(e.substr(3,2),16)/255))return!1;if(isNaN(s.b=parseInt(e.substr(5,2),16)/255))return!1}else if(null!=e.match(/^[0-9a-f]{6}$/i)){if(isNaN(s.r=parseInt(e.substr(0,2),16)/255))return!1;if(isNaN(s.g=parseInt(e.substr(2,2),16)/255))return!1;if(isNaN(s.b=parseInt(e.substr(4,2),16)/255))return!1}else if(null!=e.match(/^rgba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)||null!=e.match(/^rgb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)){if(a=null!=e.match(/a/i)?!0:!1,t=e.substring(e.indexOf("(")+1,e.indexOf(",")),"%"==t.charAt(t.length-1)){if(isNaN(s.r=parseFloat(t)/100))return!1}else if(isNaN(s.r=parseInt(t)/255))return!1;if(t=e.substring(e.indexOf(",")+1,e.indexOf(",",e.indexOf(",")+1)),"%"==t.charAt(t.length-1)){if(isNaN(s.g=parseFloat(t)/100))return!1}else if(isNaN(s.g=parseInt(t)/255))return!1;if(t=a?e.substring(e.indexOf(",",e.indexOf(",")+1)+1,e.lastIndexOf(",")):e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(s.b=parseFloat(t)/100))return!1}else if(isNaN(s.b=parseInt(t)/255))return!1;if(a)if(t=e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(s.a=parseFloat(t)/100))return!1}else if(isNaN(s.a=parseFloat(t)))return!1}else{if(null==e.match(/^hsva\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsv\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==e.match(/^hsb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i))return!1;if(a=null!=e.match(/a/i)?!0:!1,t=e.substring(e.indexOf("(")+1,e.indexOf(",")),"%"==t.charAt(t.length-1)){if(isNaN(s.h=parseFloat(t)/100))return!1}else if(isNaN(s.h=parseFloat(t)/360))return!1;if(t=e.substring(e.indexOf(",")+1,e.indexOf(",",e.indexOf(",")+1)),"%"==t.charAt(t.length-1)){if(isNaN(s.s=parseFloat(t)/100))return!1}else if(isNaN(s.s=parseFloat(t)))return!1;if(t=a?e.substring(e.indexOf(",",e.indexOf(",")+1)+1,e.lastIndexOf(",")):e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(s.v=parseFloat(t)/100))return!1}else if(isNaN(s.v=parseFloat(t)))return!1;if(a)if(t=e.substring(e.lastIndexOf(",")+1,e.lastIndexOf(")")),"%"==t.charAt(t.length-1)){if(isNaN(s.a=parseFloat(t)/100))return!1}else if(isNaN(s.a=parseFloat(t)))return!1}return s},e.fn.wheelColorPicker.hsvToRgb=function(e,t,a){var s=1/6>=e||e>=5/6?1:1/3>e?1-6*(e-1/6):e>4/6?6*(e-4/6):0,r=e>=1/6&&.5>=e?1:1/6>e?6*e:4/6>e?1-6*(e-.5):0,i=e>=.5&&5/6>=e?1:e>2/6&&.5>e?6*(e-2/6):e>5/6?1-6*(e-5/6):0,l=(s+(1-s)*(1-t))*a,n=(r+(1-r)*(1-t))*a,o=(i+(1-i)*(1-t))*a;return{r:l,g:n,b:o}},e.fn.wheelColorPicker.rgbToHsv=function(e,t,a){var s,r,i,l=Math.max(e,t,a),n=Math.min(e,t,a),o=l-n;return r=0!=l?o/l:0,s=0==o?0:e==l?(6+(t-a)/o)%6:t==l?2+(a-e)/o:a==l?4+(e-t)/o:0,s/=6,i=l,{h:s,s:r,v:i}},t.staticInit=function(){e.fn.wheelColorPicker.hasInit||(e("body").on("mouseup.wheelColorPicker",a.onBodyMouseUp),e("body").on("mousemove.wheelColorPicker",a.onBodyMouseMove))},t.init=function(){return t.staticInit(),this.each(function(){var r=e(this),i=r.data("jQWCP.settings"),l=null;if(!i.hasInit){i.hasInit=!0;var n={h:0,s:0,v:1,r:1,g:1,b:1,a:1};r.data("jQWCP.color",n),null==i.sliders&&(i.sliders="wvp"+(i.format.indexOf("a")>=0?"a":"")),"block"==i.layout?(l=a.initWidget.call(r),a.adjustWidget(l.get(0),i),l.addClass(i.cssClass),r.data("jQWCP.widget",l.get(0)),l.data("jQWCP.inputElm",this),l.addClass("jQWCP-block"),r.after(l),"inline"==r.css("display")?l.css("display","inline-block"):l.css("display",r.css("display")),l.append(r),r.hide(),void 0!=r.attr("tabindex")?l.attr("tabindex",r.attr("tabindex")):l.attr("tabindex",0),t.redrawSliders.call(r,null,!0),t.updateSliders.call(r),l.on("focus.wheelColorPicker",a.onWidgetFocus),l.on("blur.wheelColorPicker",a.onWidgetBlur)):(null==s?(l=a.initWidget.call(r),r.data("jQWCP.widget",l.get(0)),s=l,s.hide(),e("body").append(l),l.on("mousedown.wheelColorPicker",a.onPopupDlgMouseDown),l.on("mouseup.wheelColorPicker",a.onPopupDlgMouseUp)):r.data("jQWCP.widget",s),r.on("focus.wheelColorPicker",t.show),r.on("blur.wheelColorPicker",a.onInputBlur)),r.on("keyup.wheelColorPicker",a.onInputKeyup),r.on("change.wheelColorPicker",a.onInputChange),null==i.color?t.setValue.call(r,r.val()):"object"==typeof i.color?(t.setColor.call(r,i.color),i.color=void 0):(t.setValue.call(r,i.color),i.color=void 0),i.userinput?r.removeAttr("readonly"):r.attr("readonly",!0)}})},t.setOptions=function(a){var s=a;return this.each(function(){var t=e(this),r=this;a=e.extend({},s),"undefined"==typeof a.htmlOptions&&(a.htmlOptions=e.fn.wheelColorPicker.defaults.htmlOptions),a.htmlOptions&&e.each(e.fn.wheelColorPicker.defaults,function(e,s){r.hasAttribute("data-wcp-"+e)&&(a[e]=t.attr("data-wcp-"+e))});var i=e.extend(!0,{},e.fn.wheelColorPicker.defaults,a);t.data("jQWCP.settings",i)}),t.init.call(this)},t.destroy=function(){return this.each(function(){var t=e(this),a=t.data("jQWCP.settings"),r=null;a&&("block"==a.layout?(r=e(t.data("jQWCP.widget")),r.before(t),r.remove(),t.show()):r=s,t.off("focus.wheelColorPicker"),t.off("blur.wheelColorPicker"),t.off("keyup.wheelColorPicker"),t.off("change.wheelColorPicker"),t.data("jQWCP.settings",null),t.data("jQWCP.widget",null))})},t.show=function(r){var i=e(this),l=i.data("jQWCP.settings"),n=s;"popup"==l.layout&&this!=i.data("jQWCP.inputElm")&&(n.stop(!0,!0),n.css({top:i.offset().top+i.outerHeight()+"px",left:i.offset().left+"px"}),n.data("jQWCP.inputElm",this),n.attr("class","jQWCP-wWidget"),n.addClass(l.cssClass),a.adjustWidget(n.get(0),l),t.redrawSliders.call(i,null,!0),t.updateSliders.call(i),l.lastValue=i.val(),n.fadeIn(l.animDuration))},t.hide=function(t){var a=e(this),r=a.data("jQWCP.settings");s.fadeOut(r.animDuration)},t.redrawSliders=function(t,a){return this.each(function(){var t=e(this),s=t.data("jQWCP.settings"),r=e(t.data("jQWCP.widget")),i=t.data("jQWCP.color");if(this==r.data("jQWCP.inputElm")){var l=1,n=50*s.quality,o=1,d=0,h=0,u=0,c=0,C=0,f=1;s.live&&(o=i.a,d=Math.round(255*i.r),h=Math.round(255*i.g),u=Math.round(255*i.b),c=i.h,C=i.s,f=i.v);var p=r.find(".jQWCP-wPreviewBox"),P=p.get(0).getContext("2d");if(P.fillStyle="rgba("+d+","+h+","+u+","+o+")",P.clearRect(0,0,1,1),P.fillRect(0,0,1,1),s.live||a){var g=r.find(".jQWCP-wAlphaSlider"),w=g.get(0).getContext("2d"),W=w.createLinearGradient(0,0,0,n);W.addColorStop(0,"rgba("+d+","+h+","+u+",1)"),W.addColorStop(1,"rgba("+d+","+h+","+u+",0)"),w.fillStyle=W,w.clearRect(0,0,l,n),w.fillRect(0,0,l,n);var v=r.find(".jQWCP-wRedSlider"),j=v.get(0).getContext("2d"),Q=j.createLinearGradient(0,0,0,n);Q.addColorStop(0,"rgb(255,"+h+","+u+")"),Q.addColorStop(1,"rgb(0,"+h+","+u+")"),j.fillStyle=Q,j.fillRect(0,0,l,n);var b=r.find(".jQWCP-wGreenSlider"),S=b.get(0).getContext("2d"),m=S.createLinearGradient(0,0,0,n);m.addColorStop(0,"rgb("+d+",255,"+u+")"),m.addColorStop(1,"rgb("+d+",0,"+u+")"),S.fillStyle=m,S.fillRect(0,0,l,n);var x=r.find(".jQWCP-wBlueSlider"),k=x.get(0).getContext("2d"),y=k.createLinearGradient(0,0,0,n);y.addColorStop(0,"rgb("+d+","+h+",255)"),y.addColorStop(1,"rgb("+d+","+h+",0)"),k.fillStyle=y,k.fillRect(0,0,l,n);var M=r.find(".jQWCP-wHueSlider"),O=M.get(0).getContext("2d"),N=O.createLinearGradient(0,0,0,n);N.addColorStop(0,"#f00"),N.addColorStop(.166666667,"#ff0"),N.addColorStop(.333333333,"#0f0"),N.addColorStop(.5,"#0ff"),N.addColorStop(.666666667,"#00f"),N.addColorStop(.833333333,"#f0f"),N.addColorStop(1,"#f00"),O.fillStyle=N,O.fillRect(0,0,l,n);var I=e.fn.wheelColorPicker.hsvToRgb(c,1,f);I.r=Math.round(255*I.r),I.g=Math.round(255*I.g),I.b=Math.round(255*I.b);var R=r.find(".jQWCP-wSatSlider"),A=R.get(0).getContext("2d"),H=A.createLinearGradient(0,0,0,n);H.addColorStop(0,"rgb("+I.r+","+I.g+","+I.b+")"),H.addColorStop(1,"rgb("+Math.round(255*f)+","+Math.round(255*f)+","+Math.round(255*f)+")"),A.fillStyle=H,A.fillRect(0,0,l,n);var G=e.fn.wheelColorPicker.hsvToRgb(c,C,1);G.r=Math.round(255*G.r),G.g=Math.round(255*G.g),G.b=Math.round(255*G.b);var V=r.find(".jQWCP-wValSlider"),B=V.get(0).getContext("2d"),E=B.createLinearGradient(0,0,0,n);E.addColorStop(0,"rgb("+G.r+","+G.g+","+G.b+")"),E.addColorStop(1,"#000"),B.fillStyle=E,B.fillRect(0,0,l,n)}}})},t.updateSliders=function(){return this.each(function(){var t=e(this),a=t.data("jQWCP.settings"),s=e(t.data("jQWCP.widget")),r=t.data("jQWCP.color");if(this==s.data("jQWCP.inputElm")){var i=s.find(".jQWCP-wWheel"),l=s.find(".jQWCP-wWheelCursor"),n=s.find(".jQWCP-wWheelOverlay"),o=Math.cos(2*Math.PI*r.h)*r.s,d=Math.sin(2*Math.PI*r.h)*r.s,h=i.width()/2,u=i.height()/2;l.css("left",h+o*i.width()/2+"px"),l.css("top",u-d*i.height()/2+"px"),a.preserveWheel?n.css("opacity",0):n.css("opacity",1-(r.v<.2?.2:r.v));var c=s.find(".jQWCP-wHueSlider"),C=s.find(".jQWCP-wHueCursor");C.css("top",r.h*c.height()+"px");var f=s.find(".jQWCP-wSatSlider"),p=s.find(".jQWCP-wSatCursor");p.css("top",(1-r.s)*f.height()+"px");var P=s.find(".jQWCP-wValSlider"),g=s.find(".jQWCP-wValCursor");g.css("top",(1-r.v)*P.height()+"px");var w=s.find(".jQWCP-wRedSlider"),W=s.find(".jQWCP-wRedCursor");W.css("top",(1-r.r)*w.height()+"px");var v=s.find(".jQWCP-wGreenSlider"),j=s.find(".jQWCP-wGreenCursor");j.css("top",(1-r.g)*v.height()+"px");var Q=s.find(".jQWCP-wBlueSlider"),b=s.find(".jQWCP-wBlueCursor");b.css("top",(1-r.b)*Q.height()+"px");var S=s.find(".jQWCP-wAlphaSlider"),m=s.find(".jQWCP-wAlphaCursor");m.css("top",(1-r.a)*S.height()+"px")}})},t.updateSelection=function(){return t.redrawSliders.call($this),t.updateSliders.call($this)},t.setRgba=function(a,s,r,i){return this.each(function(){var t=e(this),l=t.data("jQWCP.color");l.r=a,l.g=s,l.b=r,null!=i&&(l.a=i);var n=e.fn.wheelColorPicker.rgbToHsv(a,s,r);l.h=n.h,l.s=n.s,l.v=n.v}),t.updateSliders.call(this,"hsv"),t.redrawSliders.call(this,"svrgba")},t.setRgb=function(e,a,s){return t.setRgba.call(this,e,a,s,null)},t.setHsva=function(a,s,r,i){return this.each(function(){var t=e(this),l=t.data("jQWCP.color");l.h=a,l.s=s,l.v=r,null!=i&&(l.a=i);var n=e.fn.wheelColorPicker.hsvToRgb(a,s,r);l.r=n.r,l.g=n.g,l.b=n.b}),t.updateSliders.call(this,"rgb"),t.redrawSliders.call(this,"svrgba")},t.setHsv=function(e,a,s){return t.setHsva.call(this,e,a,s,null)},t.setAlpha=function(a){return this.each(function(){var t=e(this),s=t.data("jQWCP.color");s.a=a}),t.redrawSliders.call(this,"")},t.alpha=function(t){var a=this.data("jQWCP.settings");if(null==t)return-1==a.sliders.indexOf("a")?!1:!0;if(1==t){if(-1==a.sliders.indexOf("a"))return this.each(function(){var t=e(this),a=t.data("jQWCP.settings");a.sliders+="a"})}else if(0==t)return this.each(function(){var t=e(this),a=t.data("jQWCP.settings");a.sliders.replace("a","")})},t.color=function(e){return null==e?t.getValue.call(this):t.setValue.call(this,e)},t.getColor=function(){return this.data("jQWCP.color")},t.setColor=function(e){return null!=e.r?t.setRgba.call(this,e.r,e.g,e.b,e.a):null!=e.h?t.setHsva.call(this,e.h,e.s,e.v,e.a):null!=e.a?t.setAlpha.call(this,e.a):this},t.getValue=function(t){var a=this.data("jQWCP.settings"),s=this.data("jQWCP.color");return null==t&&(t=a.format),a.rounding>=0&&(s.a=Math.round(s.a*Math.pow(10,a.rounding))/Math.pow(10,a.rounding)),e.fn.wheelColorPicker.colorToStr(s,t)},t.setValue=function(a){var s=e.fn.wheelColorPicker.strToColor(a);return s?t.setColor.call(this,s):this},a.initWidget=function(t){var s=this.data("jQWCP.settings"),r=50*s.quality,i=e("<div class='jQWCP-wWidget'><div class='jQWCP-wWheelGroup'><div class='jQWCP-wWheel'><div class='jQWCP-wWheelOverlay'></div><span class='jQWCP-wWheelCursor'></span></div></div><div class='jQWCP-wHSVGroup'><div class='jQWCP-wHue jQWCP-slider-wrapper'><canvas class='jQWCP-wHueSlider jQWCP-slider' width='1' height='"+r+"' title='Hue'></canvas><span class='jQWCP-wHueCursor jQWCP-scursor'></span></div><div class='jQWCP-wSat jQWCP-slider-wrapper'><canvas class='jQWCP-wSatSlider jQWCP-slider' width='1' height='"+r+"' title='Saturation'></canvas><span class='jQWCP-wSatCursor jQWCP-scursor'></span></div><div class='jQWCP-wVal jQWCP-slider-wrapper'><canvas class='jQWCP-wValSlider jQWCP-slider' width='1' height='"+r+"' title='Value'></canvas><span class='jQWCP-wValCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wRGBGroup'><div class='jQWCP-wRed jQWCP-slider-wrapper'><canvas class='jQWCP-wRedSlider jQWCP-slider' width='1' height='"+r+"' title='Red'></canvas><span class='jQWCP-wRedCursor jQWCP-scursor'></span></div><div class='jQWCP-wGreen jQWCP-slider-wrapper'><canvas class='jQWCP-wGreenSlider jQWCP-slider' width='1' height='"+r+"' title='Green'></canvas><span class='jQWCP-wGreenCursor jQWCP-scursor'></span></div><div class='jQWCP-wBlue jQWCP-slider-wrapper'><canvas class='jQWCP-wBlueSlider jQWCP-slider' width='1' height='"+r+"' title='Blue'></canvas><span class='jQWCP-wBlueCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wAlpha jQWCP-slider-wrapper'><canvas class='jQWCP-wAlphaSlider jQWCP-slider' width='1' height='"+r+"' title='Alpha'></canvas><span class='jQWCP-wAlphaCursor jQWCP-scursor'></span></div><div class='jQWCP-wPreview'><canvas class='jQWCP-wPreviewBox' width='1' height='1' title='Selected Color'></canvas></div></div>");return i.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-scursor, .jQWCP-slider").attr("unselectable","on").css("-moz-user-select","none").css("-webkit-user-select","none").css("user-select","none"),i.on("mousedown.wheelColorPicker",".jQWCP-wWheel",a.onWheelMouseDown),i.on("mousedown.wheelColorPicker",".jQWCP-wWheelCursor",a.onWheelCursorMouseDown),i.on("mousedown.wheelColorPicker",".jQWCP-slider",a.onSliderMouseDown),i.on("mousedown.wheelColorPicker",".jQWCP-scursor",a.onSliderCursorMouseDown),i},a.adjustWidget=function(t,a){var s=e(t),r=a.sliders;r.indexOf("w")<0?s.find(".jQWCP-wWheel").hide().addClass("hidden"):s.find(".jQWCP-wWheel").show().removeClass("hidden"),r.indexOf("h")<0?s.find(".jQWCP-wHue").hide().addClass("hidden"):s.find(".jQWCP-wHue").show().removeClass("hidden"),r.indexOf("h")<0?s.find(".jQWCP-wHue").hide().addClass("hidden"):s.find(".jQWCP-wHue").show().removeClass("hidden"),r.indexOf("s")<0?s.find(".jQWCP-wSat").hide().addClass("hidden"):s.find(".jQWCP-wSat").show().removeClass("hidden"),r.indexOf("v")<0?s.find(".jQWCP-wVal").hide().addClass("hidden"):s.find(".jQWCP-wVal").show().removeClass("hidden"),r.indexOf("r")<0?s.find(".jQWCP-wRed").hide().addClass("hidden"):s.find(".jQWCP-wRed").show().removeClass("hidden"),r.indexOf("g")<0?s.find(".jQWCP-wGreen").hide().addClass("hidden"):s.find(".jQWCP-wGreen").show().removeClass("hidden"),r.indexOf("b")<0?s.find(".jQWCP-wBlue").hide().addClass("hidden"):s.find(".jQWCP-wBlue").show().removeClass("hidden"),r.indexOf("a")<0?s.find(".jQWCP-wAlpha").hide().addClass("hidden"):s.find(".jQWCP-wAlpha").show().removeClass("hidden"),r.indexOf("p")<0?s.find(".jQWCP-wPreview").hide().addClass("hidden"):s.find(".jQWCP-wPreview").show().removeClass("hidden");var i=s.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-wPreview").not(".hidden"),l=0;i.each(function(t,a){l+=parseFloat(e(a).css("margin-left").replace("px"))+e(a).outerWidth()}),s.css({width:l+"px"})},a.onPopupDlgMouseDown=function(t){var a=e(this),s=e(a.data("jQWCP.inputElm"));s.off("blur.wheelColorPicker"),s.off("focus.wheelColorPicker")},a.onPopupDlgMouseUp=function(t){var a=e(this),s=e(a.data("jQWCP.inputElm"));s.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS")},a.onWheelMouseDown=function(t){var a=e(this),s=a.parents(".jQWCP-wWidget:eq(0)"),r=e(s.data("jQWCP.inputElm"));e("body").data("jQWCP.activeControl",a.get(0)),r.trigger("sliderdown")},a.onWheelCursorMouseDown=function(t){{var a=e(this),s=a.parents(".jQWCP-wWidget:eq(0)");e(s.data("jQWCP.inputElm"))}e("body").data("jQWCP.activeControl",a.parent().get(0))},a.onSliderMouseDown=function(t){var a=e(this),s=a.parents(".jQWCP-wWidget:eq(0)"),r=e(s.data("jQWCP.inputElm"));e("body").data("jQWCP.activeControl",a.parent().get(0)),r.trigger("sliderdown")},a.onSliderCursorMouseDown=function(t){{var a=e(this),s=a.parents(".jQWCP-wWidget:eq(0)");e(s.data("jQWCP.inputElm"))}e("body").data("jQWCP.activeControl",a.parent().get(0))},a.onBodyMouseUp=function(s){var r=e(e("body").data("jQWCP.activeControl"));if(0!=r.length){var i=r.parents(".jQWCP-wWidget:eq(0)"),l=e(i.data("jQWCP.inputElm")),n=l.data("jQWCP.settings");a.updateActiveControl(s),"popup"==n.layout&&(l.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS"),l.on("blur.wheelColorPicker",a.onInputBlur),l.on("focus.wheelColorPicker",t.show)),e("body").data("jQWCP.activeControl",null),l.trigger("sliderup")}},a.onBodyMouseMove=function(t){var s=e(e("body").data("jQWCP.activeControl"));if(0!=s.length){var r=s.parents(".jQWCP-wWidget:eq(0)"),i=e(r.data("jQWCP.inputElm"));return a.updateActiveControl(t),i.trigger("slidermove"),!1}},a.updateActiveControl=function(a){var s=e(e("body").data("jQWCP.activeControl"));if(0!=s.length){var r=s.parents(".jQWCP-wWidget:eq(0)"),i=e(r.data("jQWCP.inputElm")),l=i.data("jQWCP.settings"),n=i.data("jQWCP.color");if(s.hasClass("jQWCP-wWheel")){var o=s.find(".jQWCP-wWheelCursor"),d=(s.find(".jQWCP-wWheelOverlay"),(a.pageX-s.offset().left-s.width()/2)/(s.width()/2)),h=-(a.pageY-s.offset().top-s.height()/2)/(s.height()/2),u=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));u>1&&(u=1);var c=Math.atan(h/d)/(2*Math.PI);0>c&&(c+=.5),0>h&&(c+=.5),t.setHsv.call(i,c,u,n.v)}else if(s.hasClass("jQWCP-slider-wrapper")){var o=s.find(".jQWCP-scursor"),h=(a.pageY-s.offset().top)/s.height(),C=0>h?0:h>1?1:h;o.css("top",C*s.height()+"px"),s.hasClass("jQWCP-wRed")&&t.setRgb.call(i,1-C,n.g,n.b),s.hasClass("jQWCP-wGreen")&&t.setRgb.call(i,n.r,1-C,n.b),s.hasClass("jQWCP-wBlue")&&t.setRgb.call(i,n.r,n.g,1-C),s.hasClass("jQWCP-wHue")&&t.setHsv.call(i,C,n.s,n.v),s.hasClass("jQWCP-wSat")&&t.setHsv.call(i,n.h,1-C,n.v),s.hasClass("jQWCP-wVal")&&t.setHsv.call(i,n.h,n.s,1-C),s.hasClass("jQWCP-wAlpha")&&t.setAlpha.call(i,1-C)}i.val(t.getValue.call(i)),l.preview&&(i.css("background",e.fn.wheelColorPicker.colorToStr(n,"rgba")),n.v>.5?i.css("color","black"):i.css("color","white"))}},a.onInputChange=function(a){var s=e(this),r=e.fn.wheelColorPicker.strToColor(s.val());r&&t.setColor.call(s,r)},a.onInputKeyup=function(e){a.onInputChange.call(this,e)},a.onInputBlur=function(a){var s=e(this),r=s.data("jQWCP.settings"),i=r.lastValue,l=s.val();i!=l&&s.trigger("change"),"popup"==r.layout&&t.hide.call(s)},a.onWidgetFocus=function(t){var a=e(e(this).data("jQWCP.inputElm")),s=(e(this),a.data("jQWCP.settings"));s.lastValue=a.val(),a.triggerHandler("focus")},a.onWidgetBlur=function(t){{var s=e(e(this).data("jQWCP.inputElm"));e(this)}a.onInputBlur.call(s),s.triggerHandler("blur")},e("document").ready(function(){e("[data-wheelcolorpicker]").wheelColorPicker({htmlOptions:!0})}),function(){e.browser.mozilla&&(e.fn.wheelColorPicker.defaults.quality=.2)}()}(jQuery);
